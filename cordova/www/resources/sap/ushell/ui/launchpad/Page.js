// Copyright (c) 2009-2017 SAP SE, All Rights Reserved
sap.ui.define(["sap/m/Button","sap/m/library","sap/m/Text","sap/ui/core/Control","sap/ui/core/dnd/DragDropInfo","sap/ui/core/library","sap/ushell/resources","sap/ushell/ui/launchpad/PageRenderer"],function(B,l,T,C,D,c,r){"use strict";var a=l.ButtonType;var b=c.TextAlign;var P=C.extend("sap.ushell.ui.launchpad.Page",{metadata:{library:"sap.ushell",properties:{edit:{type:"boolean",group:"Misc",defaultValue:false},enableGroupReordering:{type:"boolean",group:"Misc",defaultValue:false},noGroupsText:{type:"string",group:"Misc",defaultValue:""},showNoGroupsText:{type:"boolean",group:"Misc",defaultValue:true}},defaultAggregation:"groups",aggregations:{"groups":{type:"sap.ushell.ui.launchpad.Section",multiple:true,singularName:"group",dnd:true},"_addGroupButtons":{type:"sap.m.Button",multiple:true,visibility:"hidden"},"_noGroupText":{type:"sap.m.Text",multiple:false,visibility:"hidden"}},events:{addGroupButtonPressed:{parameters:{index:{type:"int"}}},groupDrop:{parameters:{draggedControl:{type:"sap.ushell.ui.launchpad.Section"},droppedControl:{type:"sap.ushell.ui.launchpad.Section"},dropPosition:{type:"string"}}}}}});P.prototype.init=function(){this.setAggregation("_noGroupText",new T({text:r.i18n.getText("Page.NoGroupText"),width:"100%",textAlign:b.Center}));this._oDragDropInfo=new D({sourceAggregation:"groups",targetAggregation:"groups",dropPosition:"Between",drop:function(i){this.fireGroupDrop(i.getParameters());}.bind(this)});};P.prototype.exit=function(){this._oDragDropInfo.destroy();};P.prototype.onBeforeRendering=function(){var n=this.getGroups().length,A=this.getAggregation("_addGroupButtons")||[],o,i;for(i=A.length-1;i<n;i++){o=new B({type:a.Transparent,icon:"sap-icon://add",text:r.i18n.getText("add_group_at"),press:this.fireAddGroupButtonPressed.bind(this,{index:A.length})});o.addStyleClass("sapUshellPageAddGroupButton");o.addStyleClass("sapContrastPlus");this.addAggregation("_addGroupButtons",o);}};P.prototype.setEnableGroupReordering=function(v){this.setProperty("enableGroupReordering",!!v);if(v){this.addDragDropConfig(this._oDragDropInfo);}else{this.removeDragDropConfig(this._oDragDropInfo);}return this;};P.prototype.setNoGroupsText=function(t){this.setProperty("noGroupsText",t);var n=this.getAggregation("_noGroupText");n.setText(t||r.i18n.getText("Page.NoGroupText"));return this;};return P;});
