sap.ui.define(["sap/ui/generic/app/navigation/service/SelectionVariant","sap/suite/ui/generic/template/AnalyticalListPage/extensionAPI/ExtensionAPI","sap/suite/ui/generic/template/AnalyticalListPage/controller/FilterBarController","sap/suite/ui/generic/template/AnalyticalListPage/controller/ToolbarController","sap/suite/ui/generic/template/AnalyticalListPage/controller/VisualFilterBarController","sap/suite/ui/generic/template/AnalyticalListPage/controller/VisualFilterDialogController","sap/suite/ui/generic/template/AnalyticalListPage/controller/AnalyticGridController","sap/ui/table/AnalyticalTable","sap/ui/model/odata/AnnotationHelper","sap/ui/model/analytics/odata4analytics","sap/suite/ui/generic/template/AnalyticalListPage/controller/ContentAreaController","sap/suite/ui/generic/template/AnalyticalListPage/controller/IappStateHandler","sap/ui/Device","sap/m/SegmentedButtonItem","sap/m/SegmentedButton","sap/m/OverflowToolbar","sap/m/ToolbarSpacer","sap/m/library","sap/ui/model/Context","sap/suite/ui/generic/template/AnalyticalListPage/util/AnnotationHelper","sap/base/Log","sap/suite/ui/generic/template/AnalyticalListPage/util/FilterUtil","sap/base/util/ObjectPath"],function(S,E,F,T,V,a,A,b,O,c,C,I,D,d,f,g,h,j,k,l,L,m,n){"use strict";var o="chart",p="visual",q="compact";return{getMethods:function(v,t,r){var s={};s.bVisualFilterInitialised=false;s._bIsStartingUp=true;function u(){var e=r.getOwnerComponent();var i=e.getModel("_templPriv");i.setProperty("/listReport/isLeaf",e.getIsLeaf());}function w(){var e=n.get("sap.ushell.Container.getUser"),i=r.getOwnerComponent(),M=i.getAppComponent(),N=M.getMetadata(),U=N.getManifestEntry("sap.ui"),P=(U&&U.icons&&U.icons.icon)||"",Q=N.getManifestEntry("sap.app"),R=(Q&&Q.title)||"";var W={bookmarkIcon:P,bookmarkAppTitle:R,bookmarkCustomUrl:function(){s.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();return hasher.getHash()?("#"+hasher.getHash()):window.location.href;},bookmarkServiceUrl:function(){var Y={serviceURL:null};r.onSaveAsTileExtension(Y);if(Y.serviceURL===null){var Z=s.oSmartTable.getTable();var $;if(Z){$=Z.getBinding("rows")||Z.getBinding("items");}else{$="";}return $?$.getDownloadUrl()+"&$top=0&$inlinecount=allpages":"";}else{return Y.serviceURL||"";}},isShareInJamActive:!!e&&e().isJamActive()};var X=r.getOwnerComponent().getModel("_templPriv");X.setProperty("/listReport/share",W);}function x(e,i){var P=e&&e.property;return P.filter(function(M){return typeof M[i]!=="undefined";});}function y(e){var i=e.SelectOptions,P=l.resolveParameterStringValue(e.Parameters);var M=new k(null,"/");var N={};if(i){i.forEach(function(Q){Q.PropertyName=Q.PropertyName.PropertyPath;Q.Ranges.forEach(function(R){R.Sign=R.Sign.EnumMember.split("/")[1];R.Option=R.Option.EnumMember.split("/")[1];R.Low=m.resolveSelectOptionValue(M,R.Low);R.High=m.resolveSelectOptionValue(M,R.High);});});N.SelectOptions=i;}if(P){P.forEach(function(Q){Q.PropertyName=Q.PropertyName.PropertyPath;Q.PropertyValue=O.format(M,Q.PropertyValue)||null;});N.Parameters=P;}return new S(N);}function z(i){var M=i.getModel(),N=M&&M.getMetaModel(),R=N&&N.getODataEntityType(i.getEntityType()),P,Q=N&&N.getODataEntityType(i.getEntityType(),true),U=l.createSVAnnotation(R,N,s.oController.getOwnerComponent().getQualifier());if(s.oController.getOwnerComponent().getFilterDefaultsFromSelectionVariant()&&U){P=y(U);}else{if(s.oController.getOwnerComponent().getFilterDefaultsFromSelectionVariant()&&!U){L.warning("No SelectionVariant found in the annotation : No default values filled in FilterBar","","ALPSmartFilterBar");}var W=R&&x(R,"com.sap.vocabularies.Common.v1.FilterDefaultValue"),X,Y,Z,$,_,a1=[];try{X=new c.Model(new c.Model.ReferenceByModel(M));_=X&&X.findQueryResultByName(i.getEntitySet());Y=_&&_.getParameterization();Z=Y&&N.getODataEntitySet(Y.getEntitySet().getQName());$=Z&&N.getODataEntityType(Z.entityType);a1=$?x($,"defaultValue"):[];}catch(e){L.error(e);}if(W.length>0||a1.length>0){P=new S();W.forEach(function(b1){var c1=N.createBindingContext(Q+"/property/[${path:'name'}===\'"+b1.name+"']/com.sap.vocabularies.Common.v1.FilterDefaultValue");P.addSelectOption(b1.name,"I","EQ",O.format(c1));});a1.forEach(function(b1){P.addParameter(b1.name,b1.defaultValue);});}}return P;}function B(e){var i=e.getSource(),M=z(i);if(M){s.oIappStateHandler.fnSetFiltersUsingUIState(M.toJSONObject(),true,false);}s.oIappStateHandler.onSmartFilterBarInitialise();r.onInitSmartFilterBarExtension(e);r.templateBaseExtension.onInitSmartFilterBar(e);}function G(){var e=s.oIappStateHandler.onSmartFilterBarInitialized();e.then(function(){s._bIsStartingUp=false;if(s.bVisualFilterInitialised){s.oIappStateHandler.fnUpdateVisualFilterBar();}},function(i){if(i instanceof Error){i.showMessageBox();}s.oIappStateHandler.fnOnError();s._bIsStartingUp=false;}).finally(function(){if(s.oSmartFilterableKPI){var i=s.oSmartFilterableKPI.getContent();i.forEach(function(M){if(M.getSmartFilterId){M._bStopDataLoad=false;M._updateKpiList(true);}});}});}function H(e){var P=e.getSource(),i=e.getParameters().limitReached,M=P.getSelectedIndices(),N,Q;if(M.length>0){if(i){N="Your last selection was limited to the maximum of "+P.getLimit()+" items.";t.oServices.oApplication.showMessageToast(N);}}Q=P.getParent();t.oCommonUtils.setEnabledToolbarButtons(Q);}function J(e){var i=e.getParameters();var M=e.getSource();t.oCommonEventHandlers.onSemanticObjectLinkNavigationPressed(M,i);}function K(e){var i,M;i=e.getParameters();M=e.getSource();t.oCommonEventHandlers.onSemanticObjectLinkNavigationTargetObtained(M,i,s,undefined,undefined);}return{onInit:function(){var e=r.getOwnerComponent();L.setLevel(L.Level.WARNING,"ALPSmartFilterBar");var M=e.getModel("_templPriv");M.setProperty("/alp",{filterMode:e.getHideVisualFilter()?q:e.getDefaultFilterMode(),contentView:e.getDefaultContentView(),autoHide:e.getAutoHide(),visibility:{hybridView:(D.system.phone||D.system.tablet&&!D.system.desktop)?false:true},filterChanged:false});s.hideVisualFilter=e.getHideVisualFilter();s.hideVisualFilter=(s.hideVisualFilter===undefined||s.hideVisualFilter!==true)?false:true;s.oSmartFilterbar=r.byId("template::SmartFilterBar");s.oSmartTable=r.byId("table");s.oSmartFilterableKPI=r.byId("template::KPITagContainer::filterableKPIs");s.oPage=r.byId("template::Page");s.oSmartChart=r.byId("chart");if(r.getOwnerComponent().getProperty("dshQueryName")){s.oAnalyticGridContainer=r.byId("template::AnalyticGridContainer");s.oAnalyticGridController=new A();s.oAnalyticGridController.setState(s);}s.alr_compactFilterContainer=r.byId("template::CompactFilterContainer");s.alr_visualFilterContainer=r.byId("template::VisualFilterContainer");s.alr_filterContainer=r.byId("template::FilterContainer");s.alr_visualFilterBar=r.byId("template::VisualFilterBar");s.alp_ColumnListItem=r.byId("template::responsiveHightlightCol");if(s.alr_visualFilterBar){s.alr_visualFilterBar.setSmartFilterId(s.oSmartFilterbar.getId());s.alr_visualFilterBar.attachOnFilterItemAdded(function(i){var $=i.getParameters();$.attachBeforeRebindVisualFilter(function(_){var a1=_.getParameters();var b1=a1.sEntityType;var c1=a1.sDimension;var d1=a1.sMeasure;var e1=a1.oContext;var Z=s.oController;Z.onBeforeRebindVisualFilterExtension(b1,c1,d1,e1);});});}s.oKpiTagContainer=r.byId("template::KPITagContainer::globalKPIs");s.oFilterableKpiTagContainer=r.byId("template::KPITagContainer::filterableKPIs");if(s.oKpiTagContainer||s.oFilterableKpiTagContainer){sap.ui.require(["sap/suite/ui/generic/template/AnalyticalListPage/controller/KpiTagController"],function(i){i.init(s);});}s.oContentArea=new C();s.oTemplateUtils=t;s.toolbarController=new T();s.oController=r;s.filterBarController=new F();s.filterBarController.init(s);s.oContentArea.createAndSetCustomModel(s);s.oContentArea.setState(s);if(!s.hideVisualFilter){s.visualFilterBarContainer=new V();s.visualFilterBarContainer.init(s);}if(s.alr_visualFilterBar){s.alr_visualFilterBar.addEventDelegate({onAfterRendering:function(){if(s.oSmartFilterbar.isInitialised()){s.oSmartFilterbar.setFilterData({_CUSTOM:s.oIappStateHandler.getFilterState()});}}});}s.oIappStateHandler=new I(s,r,t.oCommonUtils.getNavigationHandler());u();w();r.byId("template::FilterText").attachBrowserEvent("click",function(){r.byId("template::Page").setHeaderExpanded(true);});M.setProperty("/listReport/isHeaderExpanded",true);if(s.oSmartTable){var N=s.oSmartTable.getTable();}var P="sapUiSizeCozy",Q="sapUiSizeCompact",R="sapUiSizeCondensed";if(t.oCommonUtils.isUiTable(N)||N instanceof b){var U=r.getView();var W=jQuery(document.body);if(W.hasClass(P)||U.hasStyleClass(P)){s.oSmartTable.addStyleClass(P);}else if(W.hasClass(Q)||U.hasStyleClass(Q)){var X=e.getComponentContainer().getSettings().condensedTableLayout;if(X===false){s.oSmartTable.addStyleClass(Q);}else{s.oSmartTable.addStyleClass(R);}}}if(s.oSmartFilterableKPI){s.oSmartFilterableKPI.setModel(e.getModel("_templPriv"),"_templPriv");var Y=s.oSmartFilterableKPI.getContent(),Z=s.oController;Y.forEach(function(i){if(i.getSmartFilterId){i.attachBeforeRebindFilterableKPI(function($){var _=$.getParameters(),a1=_.selectionVariant,b1=_.entityType,c1=$.getSource().getId();Z.onBeforeRebindFilterableKPIExtension(a1,b1,c1);},Z);}});}v.getUrlParameterInfo=function(){return s.oIappStateHandler.getUrlParameterInfo();};v.onComponentActivate=function(){};v.refreshBinding=function(){if(s.alr_visualFilterBar&&s.alr_visualFilterBar.updateVisualFilterBindings){s.alr_visualFilterBar.updateVisualFilterBindings();}if(s.oSmartChart&&s.oSmartChart.rebindChart){s.oSmartChart.rebindChart();}if(s.oSmartTable){t.oCommonUtils.refreshSmartTable(s.oSmartTable);}if(s.oKpiTagContainer){var $=s.oKpiTagContainer.mAggregations.content;for(var i in $){if($[i]._createGlobalKpi){$[i]._createGlobalKpi();}}}if(s.oFilterableKpiTagContainer){var $=s.oFilterableKpiTagContainer.mAggregations.content;for(var i in $){if($[i]._createFilterableKpi){$[i]._createFilterableKpi();}}}};if(s.alr_visualFilterBar){s.alr_visualFilterBar.attachInitialized(function(i){s.bVisualFilterInitialised=true;if(!s._bIsStartingUp){s.oIappStateHandler.fnUpdateVisualFilterBar(true);}});}s.oSmartFilterbar.attachFilterChange(function(i){var M=e.getModel("_templPriv");s.oIappStateHandler.fnCheckMandatory();var $=s.oSmartFilterbar.isDialogOpen();var _=i.getSource(),a1;a1=jQuery.extend(true,{},_.getFilterData(true));if($&&s.visualFilterDialogContainer){var b1=s.visualFilterDialogContainer.oVerticalBox.getModel("_dialogFilter");b1.setData(a1);}else{var c1=s.oController.getOwnerComponent().getModel("_filter");c1.setData(a1);}if(i.getParameters().filterItem){if(!s.hideVisualFilter){s.filterBarController.changeVisibility(i);}M.setProperty('/alp/_ignoreChartSelections',false);}s.filterBarController._updateFilterLink();if(!s.oSmartFilterbar.isLiveMode()&&!s.oSmartFilterbar.isDialogOpen()){if(s.oSmartFilterableKPI&&s.oSmartFilterableKPI.getEnabled()){M.setProperty('/alp/filterChanged',true);}}});},handlers:{onBack:function(){t.oServices.oNavigationController.navigateBack();},addEntry:function(e){var i=e.getSource();t.oCommonUtils.processDataLossConfirmationIfNonDraft(function(){t.oCommonEventHandlers.addEntry(i,false,s.oSmartFilterbar);},jQuery.noop,s);},deleteEntries:function(e){t.oCommonEventHandlers.deleteEntries(e);},onSelectionChange:function(e){var M=e.getSource(),N=M.getModel(),P=M.getModel("_templPriv");var Q=N.getMetaModel(),R=Q.getODataEntitySet(this.getOwnerComponent().getEntitySet()),U=R["Org.OData.Capabilities.V1.DeleteRestrictions"];var W=(U&&U.Deletable&&U.Deletable.Path)?U.Deletable.Path:"";var X=false;var Y=true;var Z=(W&&W!=="");var $=t.oCommonUtils.getSelectedContexts(M);if($.length>0){for(var i=0;i<$.length;i++){var _=N.getObject($[i].getPath());if(!(_.IsActiveEntity&&_.HasDraftEntity&&_.DraftAdministrativeData&&_.DraftAdministrativeData.InProcessByUser)){Y=false;}if(Z){if(N.getProperty(W,$[i])){Z=false;}}if(!Y&&!Z){X=true;break;}}}P.setProperty("/listReport/deleteEnabled",X);},onMultiSelectionChange:H,onChange:function(e){t.oCommonEventHandlers.onChange(e);},onSmartFieldUrlPressed:function(e){t.oCommonEventHandlers.onSmartFieldUrlPressed(e,s);},onContactDetails:function(e){t.oCommonEventHandlers.onContactDetails(e);},onSmartFilterBarInitialise:B,onSmartFilterBarInitialized:G,onEditStateFilterChanged:function(e){e.getSource().fireChange();},onFilterPress:function(e){s.filterBarController.showDialog.call(s.filterBarController);},onClearPress:function(e){s.filterBarController.clearFilters();r.onClearFilterExtension(e);},onGoPress:function(e){s.filterBarController.onGoFilter();},onBeforeSFBVariantSave:function(){if(s.oSmartFilterbar.isDialogOpen()&&!s.hideVisualFilter){s.visualFilterDialogContainer._updateFilterBarFromDialog.call(s.visualFilterDialogContainer);}var e=s.oIappStateHandler.getCurrentAppState();if(!this.getOwnerComponent().getProperty('smartVariantManagement')){delete e.customData["sap.suite.ui.generic.template.genericData"].contentView;}s.oSmartFilterbar.setFilterData({_CUSTOM:e.customData});},onAfterSFBVariantLoad:function(e){if(!s.oSmartFilterbar.isDialogOpen()){s.filterBarController._afterSFBVariantLoad();}},onBeforeRebindTable:function(e){t.oCommonEventHandlers.onBeforeRebindTable(e);r.onBeforeRebindTableExtension(e);},onBeforeRebindChart:function(e){},onListNavigate:function(e){t.oCommonEventHandlers.onListNavigate(e,s,r.onListNavigationExtension.bind(r));},onCallActionFromToolBar:function(e){var i=t.oCommonUtils.getParentTable;t.oCommonUtils.getParentTable=function(){return s.oSmartTable;};t.oCommonEventHandlers.onCallActionFromToolBar(e,s);t.oCommonUtils.getParentTable=i;i=null;},onCallActionFromList:function(e){},onDataFieldForIntentBasedNavigation:function(e){t.oCommonEventHandlers.onDataFieldForIntentBasedNavigation(e,s);},onDataFieldWithIntentBasedNavigation:function(e){t.oCommonEventHandlers.onDataFieldWithIntentBasedNavigation(e,s);},onBeforeSemanticObjectLinkPopoverOpens:function(e){var i=e.getParameters();t.oCommonUtils.processDataLossConfirmationIfNonDraft(function(){var M=s.oSmartFilterbar.getUiState({allFilters:false}).getSelectionVariant();t.oCommonUtils.semanticObjectLinkNavigation(i,M,r);},jQuery.noop,s,jQuery.noop);},onAssignedFiltersChanged:function(e){if(e&&e.getSource()){if(s&&s.oSmartFilterbar&&s.filterBarController){r.byId("template::FilterText").setText(s.oSmartFilterbar.retrieveFiltersWithValuesAsText());}}},onToggleFiltersPressed:function(){var e=r.getOwnerComponent();var i=e.getModel("_templPriv");i.setProperty("/listReport/isHeaderExpanded",(i.getProperty("/listReport/isHeaderExpanded")===true)?false:true);},onSearchButtonPressed:function(){if(D.system.phone&&s.oPage.getHeaderExpanded()){s.oPage.setHeaderExpanded(false);}var M=r.getOwnerComponent().getModel();if(s.oSmartFilterableKPI&&!s.oSmartFilterableKPI.getEnabled()){s.oController.getOwnerComponent().getModel("_templPriv").setProperty('/alp/filterChanged',false);}M.attachEventOnce("requestSent",function(){if(!s._bIsStartingUp){s.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();}else{s.oIappStateHandler.fnResolveStartUpPromise();}});s.oController.getOwnerComponent().getModel("_templPriv").setProperty('/alp/_ignoreChartSelections',true);t.oCommonUtils.refreshModel(s.oSmartTable);},onSemanticObjectLinkPopoverLinkPressed:function(e){t.oCommonEventHandlers.onSemanticObjectLinkPopoverLinkPressed(e,s);},onSemanticObjectLinkNavigationPressed:J,onSemanticObjectLinkNavigationTargetObtained:K,onAfterTableVariantSave:function(){s.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();},onAfterApplyTableVariant:function(){s.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();},onAfterChartVariantSave:function(e){s.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();t.oCommonUtils.setEnabledToolbarButtons(e.getSource());},onAfterApplyChartVariant:function(){s.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();},onFilterModeSegmentedButtonChange:function(e){s.filterBarController.handleFilterSwitch(e.getParameter("key"),e.oSource._bApplyingVariant);s.oController._templateEventHandlers.onSegmentButtonPressed();},onContentViewSegmentButtonPressed:function(e){if(e.getParameter("key")==="crosstable"&&!s.oAnalyticGrid){s.oAnalyticGridController.initAnalyticGrid();}if(!s.oSmartFilterableKPI&&!s.oController.getOwnerComponent().getContentTitle()){var i=s.oController.getView(),M;if(e.getSource().getSelectedKey()==="customview1"){M="template::contentViewExtensionToolbar";}else if(e.getSource().getSelectedKey()==="customview2"){M="template::contentViewExtension2Toolbar";}else if(e.getSource().getSelectedKey()==="chart"||e.getSource().getSelectedKey()==="charttable"){M=i.byId("template::masterViewExtensionToolbar")?"template::masterViewExtensionToolbar":"template::ChartToolbar";}else if(e.getSource().getSelectedKey()==="table"){M="template::TableToolbar";}s.oController._templateEventHandlers.setFocusOnContentViewSegmentedButtonItem(i,M);}s.oController._templateEventHandlers.onSegmentButtonPressed(!s.oController.getOwnerComponent().getProperty('smartVariantManagement'));},setFocusOnContentViewSegmentedButtonItem:function(e,i){var M=e.byId(i);if(M){var N=M.getContent().length,P=M.getContent()[N-1];if(P){P.addEventDelegate({onAfterRendering:function(Q){Q.srcControl.focus();}});}}},onSegmentButtonPressed:function(i){if(!i){s.oController.byId('template::PageVariant').currentVariantSetModified(true);s.oSmartFilterbar.setFilterData({_CUSTOM:s.oIappStateHandler.getFilterState()});}s.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();},onShareListReportActionButtonPress:function(e){if(!s.oShareActionSheet){s.oShareActionSheet=t.oCommonUtils.getDialogFragment("sap.suite.ui.generic.template.fragments.lists.ShareSheet",{shareEmailPressed:function(){s.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();j.URLHelper.triggerEmail(null,t.oCommonUtils.getText("EMAIL_HEADER",[t.oServices.oApplication.getAppTitle()]),document.URL);},shareJamPressed:function(){s.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();var i=sap.ui.getCore().createComponent({name:"sap.collaboration.components.fiori.sharing.dialog",settings:{object:{id:document.URL,share:t.oServices.oApplication.getAppTitle()}}});i.open();}},"share",function(i,M){var R=sap.ui.getCore().getLibraryResourceBundle("sap.m");M.setProperty("/emailButtonText",R.getText("SEMANTIC_CONTROL_SEND_EMAIL"));M.setProperty("/jamButtonText",R.getText("SEMANTIC_CONTROL_SHARE_IN_JAM"));M.setProperty("/bookmarkButtonText",R.getText("SEMANTIC_CONTROL_SAVE_AS_TILE"));var N=n.get("sap.ushell.Container.getUser");M.setProperty("/jamVisible",!!N&&N().isJamActive());i.openBy(e.getSource());});}else{s.oShareActionSheet.openBy(e.getSource());}},onDeterminingDataFieldForAction:function(e){var i=s.oController.getOwnerComponent().getModel("_templPriv");var M=i.getProperty('/alp/contentView');var N=(M===o)?s.oSmartChart:s.oSmartTable;t.oCommonEventHandlers.onDeterminingDataFieldForAction(e,N);},onDeterminingDataFieldForIntentBasedNavigation:function(e){var i=e.getSource();var M=s.oController.getOwnerComponent().getModel("_templPriv");var N=M.getProperty('/alp/contentView');var P=(N===o)?s.oSmartChart:s.oSmartTable.getTable();t.oCommonEventHandlers.onDeterminingDataFieldForIntentBasedNavigation(i,P,s);},onInlineDataFieldForAction:function(e){t.oCommonEventHandlers.onInlineDataFieldForAction(e,s);},onInlineDataFieldForIntentBasedNavigation:function(e){t.oCommonEventHandlers.onInlineDataFieldForIntentBasedNavigation(e.getSource(),s);},onAutoHideToggle:function(){s.oSmartTable.getModel("_tableHighlight").setProperty("/highlightMode","eyeModeSwitch");s.chartController&&s.chartController._updateTable();s.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();},onFullScreenToggled:function(e){var i=e.getParameter("fullScreen");var M=e.getSource().getModel("_templPriv");M.setProperty("/alp/fullScreen",i);},onDialogClosed:function(e){s.visualFilterDialogContainer._closeDialog.call(s.visualFilterDialogContainer);},onDialogOpened:function(e){var i=s.oSmartFilterbar.getFilterDialogContent();if(!s.visualFilterDialogContainer){s.visualFilterDialogContainer=new a();s.visualFilterDialogContainer.init(s);}if(i.length<2){s.filterBarController.fnCheckMandatory();var M=[new d({icon:"sap-icon://filter-fields",width:"inherit",key:q,tooltip:"{i18n>FILTER_COMPACT}"}),new d({icon:"sap-icon://filter-analytics",width:"inherit",key:p,tooltip:"{i18n>FILTER_VISUAL}",enabled:"{_templPriv>/alp/searchable}"})];var N=new f({width:"inherit",selectedKey:q,items:M,select:function(e){var U=e.getSource();U.setSelectedKey(q);s.visualFilterDialogContainer._toggle.call(s.visualFilterDialogContainer);}}).addEventDelegate({onAfterRendering:function(e){if(e.srcControl.getCustomData()[0]&&e.srcControl.getCustomData()[0].getValue()){e.srcControl.focus();e.srcControl.removeAllCustomData();}}});var P=s.visualFilterDialogContainer._createForm();s.oSmartFilterbar.addFilterDialogContent(P);var Q=new g({design:j.ToolbarDesign.Transparent,content:[new h(),N]}).addStyleClass("sapSmartTemplatesAnalyticalListPageFilterDialogToolbar");i[0].setToolbar(Q);N.setModel(s.oController.getView().getModel("_templPriv"),"_templPriv");}var R=s.oController.getView().getModel("_templPriv");if(R.getProperty("/alp/searchable")){if(R.getProperty("/alp/filterMode")===p){s.oSmartFilterbar.addFilterDialogContent(i[1]);if(D.system.desktop&&(!D.system.phone||!D.system.tablet)){s.oSmartFilterbar.setContentWidth(790);s.oSmartFilterbar.setContentHeight(685);}else if(D.system.tablet){if(D.orientation.portrait){s.oSmartFilterbar.setContentWidth(400);s.oSmartFilterbar.setContentHeight(720);}else if(D.orientation.landscape){s.oSmartFilterbar.setContentWidth(512);s.oSmartFilterbar.setContentHeight(861);}}}else{s.oSmartFilterbar.addFilterDialogContent(i[0]);}}else{s.oSmartFilterbar.addFilterDialogContent(i[0]);}},onSearchForFilters:function(e){s.visualFilterDialogContainer._triggerSearchInFilterDialog.call(s.visualFilterDialogContainer,e);},onDialogSearch:function(e){s.visualFilterDialogContainer._searchDialog.call(s.visualFilterDialogContainer);},onDialogClear:function(e){r.onClearFilterExtension(e);},onRestore:function(e){s.visualFilterDialogContainer._restoreDialog.call(s.visualFilterDialogContainer);},onDataReceived:function(e){s.oContentArea.enableToolbar();t.oCommonEventHandlers.onDataReceived(e);},onRowSelectionChange:function(e){var i=e.getSource();t.oCommonUtils.setEnabledToolbarButtons(i);}},extensionAPI:new E(t,r,s)};}};});
