sap.ui.define(["sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","sap/ui/model/resource/ResourceModel"],function(S,a,R){"use strict";var b=S.extend("sap.fe.services.ResourceModelService",{initPromise:Promise.resolve(),init:function(){var t=this;var c=this.getContext();var s=c.settings;this.oFactory=c.factory;this.oResourceModel=new R({bundleName:s.bundleName,async:true});if(c.scopeType==="component"){var C=c.scopeObject;C.setModel(this.oResourceModel,s.modelName);}this.initPromise=new Promise(function(r,d){t.oResourceModel.attachRequestCompleted(function(){r(t);});t.oResourceModel.attachRequestFailed(d);});},getResourceModel:function(){return this.oResourceModel;},exit:function(){this.oFactory.removeGlobalInstance();}});return a.extend("sap.fe.services.ResourceModelServiceFactory",{_oGlobalInstance:null,createInstance:function(s){if(!this._oGlobalInstance){this._oGlobalInstance=new b(Object.assign({factory:this},s));}return this._oGlobalInstance.initPromise;},removeGlobalInstance:function(){this._oGlobalInstance=null;}});},true);
